### Banner Grabbing

- Useful technique to fingerprint a service quickly.

##### Banner Grabbing using Nmap
**Syntax :** 
```
nmap -sV --script=banner <target>
````

```
nmap -sV --script=banner -p21 10.10.10.0/24
```
##### Banner Grabbing using Netcat
**Syntax :** 
```
nc -nv <target> <port>
```


### FTP

- File Transfer Protocol
- Supports common commands such as cd and ls and allows us to download files using the get command.
##### Command to connect to the ftp service

**Syntax :** 
```
ftp -p <target>
```

##### Command to download a file

``` 
get <filename>
```

### SMB

- Server Message Block
- Prevalent protocol on windows that provides many vectors for vertical and lateral movement.
- Sensitive data, including credentials, can be in network file shares, and some SMB versions may be  vulnerable to RCE exploits such as Eternal Blue.

##### Nmap script for enumerating SMB

**Syntax :** 
```
nmap --script smb-os-discovery.nse -p445 10.10.10.40
```

#### Shares

- `SMB` allows users and administrators to share folders and make them accessible remotely by other users. Often these shares have files in them that contain sensitive information such as passwords.
##### smbclient (used for enumerating and interacting with SMB shares)

**Syntax :** 
```shell-session
smbclient -N -L \\\\10.129.42.253
```
 -  `-L `flag specifies that we want to retrieve a list of available shares on the remote host
 - `-N `suppresses the password prompt.
- This reveals the non-default share users.

##### Connect to smb as a guest user

**Syntax :** 
```shell-session
smbclient \\\\10.129.42.253\\users
```

- Then check if we've got access by entering a command like "ls", we'll get an access denied message indicating that guest access is not permitted.

##### Connecting to SMB using credentials

**Syntax :** 
```shell-session
smbclient -U bob \\\\10.129.42.253\\users
```

- Then enter the password when prompted.
- After getting access, we can use the standard commands like cd and ls to navigate the system.
- get command can be used to download files.


### SNMP

- Simple Network Management Protocol
- SNMP community strings provide information and statistics about a router or device.
- SNMP versions 1 and 2c didn't support encryption or authentication, they were added in version 3 only.
- Much information can be gained from SNMP. Examination of process parameters might reveal credentials passed on the command line, which might be possible to reuse for other externally accessible services given the prevalence of password reuse in enterprise environments. Routing information, services bound to additional interfaces, and the version of installed software can also be revealed.

##### snmpwalk

**Syntax :** 
```shell-session
snmpwalk -v 2c -c public 10.129.42.253 1.3.6.1.2.1.1.5.0
```

```shell-session
snmpwalk -v 2c -c private  10.129.42.253 
```

##### onesixtyone
- A tool such as [onesixtyone](https://github.com/trailofbits/onesixtyone) can be used to brute force the community string names using a dictionary file of common community strings such as the `dict.txt` file included in the GitHub repo for the tool.

**Syntax :** 
```shell-session
onesixtyone -c dict.txt 10.129.42.254
```
