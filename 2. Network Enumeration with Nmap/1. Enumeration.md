
`Enumeration is the key`

# Nmap
- Written  in C, C++, Python and Lua
- Nmap can be divided into the following scanning techniques:

1. Host discovery
2. Port scanning
3. Service enumeration and detection
4. OS detection
5. Scriptable interaction with the target service (Nmap Scripting Engine)
##### Syntax
```shell-session
nmap <scan types> <options> <target>
```

#### TCP-SYN Scan (-sS)

- Default setting unless we define otherwise.
- Can scan thousands of ports per second.
- `Sends one packet with the SYN flag`, therefore, never completes the `three-way handshake`, which results in not establishing a full TCP connection to the scanned port.
- If our target sends a `SYN-ACK` flagged packet back to us, Nmap detects that the port is `open`.
- If the target responds with an `RST` flagged packet, it is an indicator that the port is `closed`.
- If Nmap does not receive a packet back, it will display it as `filtered`. Depending on the firewall configuration, certain packets may be dropped or ignored by the firewall.

## Host Discovery

- When we need to conduct and internal pentest for the entire network of a company, for example, we should, first of all, `get an overview of which systems are online that we can work with.`
- There are multiple host discovery options in Nmap, but the `most effective method is to use ICMP echo requests`.

**Scan Network Range :** 
```shell-session
sudo nmap 10.129.2.0/24 -sn -oA tnet | grep for | cut -d" " -f5
```
- `-sn` : Disables port scanning.
- `-oA` : Stores the results in all formats starting with the name tnet.

## Scan IP List

- During an internal pentest, it is not uncommon for us to be provided with an IP list with the hosts we need to test.
```shell-session
sudo nmap -sn -oA tnet -iL hosts.lst | grep for | cut -d" " -f5
```
- `-iL` : Performs defined scans against targets in provided 'hosts.lst' list.
- 