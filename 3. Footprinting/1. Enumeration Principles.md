# Enumeration Principles

> `Enumeration` : Information gathering using active and passive methods.


> `Our goal is not to get at the systems but to find all the ways to get there.`

---

## Core Principles

| No. | Principle |
|-----|-----------|
| 1 | `There is more than meets the eye. Consider all points of view.` |
| 2 | `Distinguish between what we see and what we do not see.` |
| 3 | `There are always ways to gain more information. Understand the target.` |

## Enumeration Methodology

The whole enumeration process is divided into three different levels:

| Infrastructure-based enumeration | Host-based enumeration | OS-based enumeration |
|----------------------------------|------------------------|----------------------|

![[attachments/Pasted image 20251221071452.png]]

Consider these lines as some kind of obstacle, like a wall. Theoretically, it is also possible to go through the wall headfirst, but very often, it happens that the spot we have smashed the gap with a lot of effort and time with force does not bring us much because there is no entry at this point of the wall to pass on to the next wall.

## Enumeration Layers

| Layer | Description | Information Categories |
|-------|-------------|------------------------|
| `1. Internet Presence` | Identification of internet presence and externally accessible infrastructure | Domains, Subdomains, vHosts, ASN, Netblocks, IP Addresses, Cloud Instances, Security Measures |
| `2. Gateway` | Identify the possible security measures to protect the company's external and internal infrastructure | Firewalls, DMZ, IPS/IDS, EDR, Proxies, NAC, Network Segmentation, VPN, Cloudflare |
| `3. Accessible Services` | Identify accessible interfaces and services that are hosted externally or internally | Service Type, Functionality, Configuration, Port, Version, Interface |
| `4. Processes` | Identify the internal processes, sources, and destinations associated with the services | PID, Processed Data, Tasks, Source, Destination |
| `5. Privileges` | Identification of the internal permissions and privileges to the accessible services | Groups, Users, Permissions, Restrictions, Environment |
| `6. OS Setup` | Identification of the internal components and systems setup | OS Type, Patch Level, Network config, OS Environment, Configuration files, sensitive private files |

## Blackbox Pentesting Approach

### Layer 1: Internet Presence

- Focus on finding the targets that we can investigate
- Use different techniques to find domains, subdomains, netblocks and many other components and information that present the presence of the company and its infrastructure on the internet

> `The goal of this layer is to identify all possible target systems and interfaces that can be tested.`

### Layer 2: Gateway

- Here we try to understand the interface of the reachable target
- How it is protected, where it is located in the network

> `The goal is to understand what we are dealing with and what we have to watch out for.`

### Layer 3: Accessible Services

- Examines each destination for all the services it offers

> `This layer aims to understand the reason and functionality of the target system and gain the necessary knowledge to communicate with it and exploit it for our purposes effectively.`

### Layer 4: Processes

- Every time a command or function is executed, data is processed, whether entered by the user or generated by the system
- This starts a process that has to perform specific tasks, and such tasks have at least one source and one target

> `The goal here is to understand these factors and identify the dependencies between them.`

### Layer 5: Privileges

- This often happens in Active Directory infrastructures and many other case-specific administration environments and servers where users are responsible for multiple administration areas

> `It is crucial to identify these and understand what is and is not possible with these privileges.`

### Layer 6: OS Setup

- Collect information about the operating system

> `The goal here is to see how the administrators manage the systems and what sensitive internal information we can glean from them.`

---

See also: [[2. Domain Information]], [[3. Cloud Resources]], [[4. Staff]]
