Network File System
- Has the same purpose as SMB.
- used in Linux and Unix systems.
- cannot communicate directly with SMB servers.
- Has no mechanism for authentication of authorisation, instead authentication is completely shifted to the RPC protocol's options.
- Most common authentication is via Unix UID/GID and group permissions.
![[Pasted image 20251222044403.png]]
#### Footprinting the Service

```shell-session
sudo nmap 10.129.14.128 -p111,2049 -sV -sC
```

```shell-session
sudo nmap --script nfs* 10.129.14.128 -sV -p111,2049
```

- Once we have discovered such an NFS service, we can mount it on our local machine. 
- For this, create a new empty folder to which NFS share will be mounted
```shell-session
showmount -e 10.129.14.128
```

```shell-session
HrithikManoj000@htb[/htb]$ mkdir target-NFS
HrithikManoj000@htb[/htb]$ sudo mount -t nfs 10.129.14.128:/ ./target-NFS/ -o nolock
HrithikManoj000@htb[/htb]$ cd target-NFS
```

- There we will have the opportunity to access the rights and the usernames and groups to whom the shown and viewable files belong. Because once we have the usernames, group names, UIDs, and GUIDs, we can create them on our system and adapt them to the NFS share to view and modify the files.
##### List Contents with Usernames & Group Names

```shell-session
ls -l mnt/nfs
```

##### List Contents with UIDs & GUIDs

```
ls -n mnt/nfs/
```

- We can also use NFS for further escalation. For example, if we have access to the system via SSH and want to read files from another folder that a specific user can read, we would need to upload a shell to the NFS share that has the `SUID` of that user and then run the shell via the SSH user.
#### Unmounting

```shell-session
sudo umount ./target-NFS
```
