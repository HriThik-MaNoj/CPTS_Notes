**Given:** 
- we need to find the credentials of the user HTB.

## Nmap

```bash
nmap -sC -sV -p- -T4 10.129.162.124 -oA all_port_scan -vvv
```

```
┌─[root@parrot]─[~/Footprinting-Medium]
└──╼ #cat all_port_scan.nmap
# Nmap 7.94SVN scan initiated Mon Dec 29 10:00:02 2025 as: nmap -sC -sV -A -p- -T4 -oA all_port_scan 10.129.162.124
Warning: 10.129.162.124 giving up on port because retransmission cap hit (6).
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
RTTVAR has grown to over 2.3 seconds, decreasing to 2.0
Nmap scan report for 10.129.162.124
Host is up (0.40s latency).
Not shown: 65505 closed tcp ports (reset)
PORT      STATE    SERVICE       VERSION
111/tcp   open     rpcbind       2-4 (RPC #100000)
| rpcinfo:
|   program version    port/proto  service
|   100000  2,3,4        111/tcp   rpcbind
|   100000  2,3,4        111/tcp6  rpcbind
|   100000  2,3,4        111/udp   rpcbind
|   100000  2,3,4        111/udp6  rpcbind
|   100003  2,3         2049/udp   nfs
|   100003  2,3         2049/udp6  nfs
|   100003  2,3,4       2049/tcp   nfs
|   100003  2,3,4       2049/tcp6  nfs
|   100005  1,2,3       2049/tcp   mountd
|   100005  1,2,3       2049/tcp6  mountd
|   100005  1,2,3       2049/udp   mountd
|_  100005  1,2,3       2049/udp6  mountd
135/tcp   open     msrpc         Microsoft Windows RPC
139/tcp   open     netbios-ssn   Microsoft Windows netbios-ssn
445/tcp   open     microsoft-ds?
1474/tcp  filtered telefinder
1773/tcp  filtered kmscontrol
2049/tcp  open     mountd        1-3 (RPC #100005)
3389/tcp  open     ms-wbt-server Microsoft Terminal Services
| rdp-ntlm-info:
|   Target_Name: WINMEDIUM
|   NetBIOS_Domain_Name: WINMEDIUM
|   NetBIOS_Computer_Name: WINMEDIUM
|   DNS_Domain_Name: WINMEDIUM
|   DNS_Computer_Name: WINMEDIUM
|   Product_Version: 10.0.17763
|_  System_Time: 2025-12-29T05:25:12+00:00
|_ssl-date: 2025-12-29T05:25:21+00:00; +1s from scanner time.
| ssl-cert: Subject: commonName=WINMEDIUM
| Not valid before: 2025-12-28T03:47:24
|_Not valid after:  2026-06-29T03:47:24
4389/tcp  filtered xandros-cms
5376/tcp  filtered unknown
5985/tcp  open     http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
16966/tcp filtered unknown
22526/tcp filtered unknown
24540/tcp filtered unknown
31604/tcp filtered unknown
32669/tcp filtered unknown
47001/tcp open     http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
49624/tcp filtered unknown
49664/tcp open     msrpc         Microsoft Windows RPC
49665/tcp open     msrpc         Microsoft Windows RPC
49666/tcp open     msrpc         Microsoft Windows RPC
49667/tcp open     msrpc         Microsoft Windows RPC
49668/tcp open     msrpc         Microsoft Windows RPC
49679/tcp open     msrpc         Microsoft Windows RPC
49680/tcp open     msrpc         Microsoft Windows RPC
49681/tcp open     msrpc         Microsoft Windows RPC
55054/tcp filtered unknown
57589/tcp filtered unknown
59606/tcp filtered unknown
61854/tcp filtered unknown
No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).
TCP/IP fingerprint:
OS:SCAN(V=7.94SVN%E=4%D=12/29%OT=111%CT=1%CU=39829%PV=Y%DS=2%DC=T%G=Y%TM=69
OS:52122E%P=x86_64-pc-linux-gnu)SEQ(SP=104%GCD=1%ISR=109%TI=I%CI=I%II=I%TS=
OS:U)SEQ(SP=104%GCD=1%ISR=109%TI=I%CI=I%II=I%SS=O%TS=U)SEQ(SP=104%GCD=1%ISR
OS:=109%TI=I%CI=I%II=I%SS=S%TS=U)OPS(O1=M542NW8NNS%O2=M542NW8NNS%O3=M542NW8
OS:%O4=M542NW8NNS%O5=M542NW8NNS%O6=M542NNS)WIN(W1=FFFF%W2=FFFF%W3=FFFF%W4=F
OS:FFF%W5=FFFF%W6=FF70)ECN(R=Y%DF=Y%T=80%W=FFFF%O=M542NW8NNS%CC=Y%Q=)T1(R=Y
OS:%DF=Y%T=80%S=O%A=S+%F=AS%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=Y%T=80%W=0%S=A%
OS:A=O%F=R%O=%RD=0%Q=)T5(R=Y%DF=Y%T=80%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%
OS:DF=Y%T=80%W=0%S=A%A=O%F=R%O=%RD=0%Q=)T7(R=N)U1(R=Y%DF=N%T=80%IPL=164%UN=
OS:0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=80%CD=Z)

Network Distance: 2 hops
Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows

Host script results:
| smb2-security-mode:
|   3:1:1:
|_    Message signing enabled but not required
| smb2-time:
|   date: 2025-12-29T05:25:10
|_  start_date: N/A

TRACEROUTE (using port 1025/tcp)
HOP RTT       ADDRESS
1   426.83 ms 10.10.16.1
2   214.79 ms 10.129.162.124

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Mon Dec 29 11:01:26 2025 -- 1 IP address (1 host up) scanned in 3683.82 seconds
```

- `Open ports: 111,135,139,445,2049,3389,5985`.
- Let's enumerate port 111 (NFS) first.
#### Enumerating NFS

 ![[Pasted image 20251229113358.png]]
- We found a volume /TechSupport which is accessible by everyone (I assume)
- Let's try to mount that volume
![[Pasted image 20251229113718.png]]
- We found a lot of text files, let's read all of them..
- We got a username and password!!!!\
![[Pasted image 20251229114028.png]]
- Now let's try using these credentials for smb..
![[Pasted image 20251229114526.png]]

- I checked the Users share but I could't find anything.. let's move on to the devshare..
```bash
smbclient //10.129.237.95/devshare -U 'alex%lol123!mD'
```

![[Pasted image 20251229200914.png]]
  