Simple Mail Transfer Protocol
- Used for sending emails in an IP network.
- Accepts connection requests on port 25 by default
- To interact with the SMTP server, we can use the `telnet` tool to initialize a TCP connection with the SMTP server.
```shell-session
 telnet 10.129.14.128 25
```

**Telnet - VRFY**
- can be used to enumerate existing users on the system. (doesn't work always depending on how the SMTP server is configured.
```shell-session
HrithikManoj000@htb[/htb]$ telnet 10.129.14.128 25

Trying 10.129.14.128...
Connected to 10.129.14.128.
Escape character is '^]'.
220 ESMTP Server 

VRFY root

252 2.0.0 root


VRFY cry0l1t3

252 2.0.0 cry0l1t3
```

#### Nmap
```shell-session
sudo nmap 10.129.14.128 -sC -sV -p25
```
```shell-session
sudo nmap 10.129.14.128 -p25 --script smtp-open-relay -v
```

**Nmap script to enumerate SMB users**

```
nmap -p 25 --script smtp-enum-users 10.129.148.138
```

### Enumerating users

```
smtp-user-enum -M VRFY -U footprinting-wordlist.txt -t 10.129.148.138 -w 15 -v
```
