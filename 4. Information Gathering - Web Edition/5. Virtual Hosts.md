- Web servers like Apache, Nginx, or IIS are designed to host multiple websites or applications on a single server. They achieve this through virtual hosting.
- which allows them to differentiate between domains, subdomains, or even separate websites with distinct content.
- If a virtual host does not have a DNS record, you can still access it by modifying the `hosts` file on your local machine. The `hosts` file allows you to map a domain name to an IP address manually, bypassing DNS resolution.


## 1. The "Why": How Virtual Hosting Works

In the early days of the internet, one server (one IP) usually hosted one website. Today, a single server might host hundreds of different websites. To do this, servers use a technique called **Virtual Hosting**.

When you type a URL like `app.inlanefreight.local` into your browser, the process looks like this:

1. **DNS Lookup:** Your computer asks a DNS server: "What is the IP for `app.inlanefreight.local`?"
    
2. **The Failure:** Since `.local` or internal lab domains don't exist on the public internet, the DNS server says: "I don't know that address."
    
3. **The Result:** Your browser gives you an error because it doesn't know which IP to talk to.
    

Even if you browse directly to the **IP address**, the server won't know which website you want to see. It looks at the **HTTP Host Header** in your request. If you visit `http://10.129.42.195`, the host header is the IP, so the server shows you the **Default Page**. If the host header is `app.inlanefreight.local`, the server shows you the **Joomla site**.

Several tools are available to aid in the discovery of virtual hosts:

|Tool|Description|Features|
|---|---|---|
|[gobuster](https://github.com/OJ/gobuster)|A multi-purpose tool often used for directory/file brute-forcing, but also effective for virtual host discovery.|Fast, supports multiple HTTP methods, can use custom wordlists.|
|[Feroxbuster](https://github.com/epi052/feroxbuster)|Similar to Gobuster, but with a Rust-based implementation, known for its speed and flexibility.|Supports recursion, wildcard discovery, and various filters.|
|[ffuf](https://github.com/ffuf/ffuf)|Another fast web fuzzer that can be used for virtual host discovery by fuzzing the `Host` header.|Customizable wordlist input and filtering options.|
```bash
gobuster vhost -u http://<target_IP_address> -w <wordlist_file> --append-domain


gobuster vhost -u http://83.136.249.164:52488 -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt --domain inlanefreight.htb --append-domain -t 50

```
